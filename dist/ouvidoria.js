(()=>{"use strict";var e,t={696(e,t,n){var o=n(29),s=n(901),i=n(880),r=function(){return(0,s.A)(function e(t,n,s,i,r,a){(0,o.A)(this,e),this.logoMobile=document.querySelector(t),this.menuButton=document.querySelector(n),this.menuList=document.querySelector(s),this.contatoMobile=document.querySelector(i),this.linkedinMobile=document.querySelector(r),this.activeClass="active",this.events=a||["click"],this.menuOpened=!1,this.openMenu=this.openMenu.bind(this),this.closeMenu=this.closeMenu.bind(this)},[{key:"isMobile",value:function(){return window.innerWidth<=800}},{key:"openMenu",value:function(e){this.isMobile()&&(e.stopPropagation(),console.log("Menu button clicked on mobile"),this.menuOpened?(console.log("Menu already opened, closing menu now"),this.closeMenu()):(console.log("Opening menu on mobile"),this.menuOpened=!0,this.menuList.classList.add(this.activeClass),this.menuButton.classList.add(this.activeClass),this.contatoMobile.classList.add(this.activeClass),this.linkedinMobile.classList.add(this.activeClass),this.animateMenuItems(),this.toggleMenuAnimation(!0)))}},{key:"closeMenu",value:function(){this.isMobile()&&(console.log("Closing menu on mobile"),this.menuOpened=!1,this.menuList.classList.remove(this.activeClass),this.menuButton.classList.remove(this.activeClass),this.contatoMobile.classList.remove(this.activeClass),this.linkedinMobile.classList.remove(this.activeClass),this.toggleMenuAnimation(!1))}},{key:"addMenuMobileEvents",value:function(){var e=this;this.menuButton.addEventListener("click",this.openMenu),this.menuList.addEventListener("click",function(t){"A"===t.target.tagName&&(console.log("Menu list item clicked"),e.closeMenu())})}},{key:"addLinkClickEvents",value:function(){var e=this;this.menuList.querySelectorAll("a").forEach(function(t){return e.addLinkEventListener(t)});var t=document.querySelector(".sublinhado");t&&this.addLinkEventListener(t)}},{key:"addLinkEventListener",value:function(e){var t=this;e.addEventListener("click",function(n){if(t.isMobile()){n.preventDefault(),t.menuList.classList.remove(t.activeClass),t.menuButton.classList.remove(t.activeClass);var o="mobile-".concat(e.getAttribute("href").substring(1)),s=document.getElementById(o);if(s){var i,r=s.offsetTop-((null===(i=document.querySelector(".header"))||void 0===i?void 0:i.offsetHeight)||0);window.scrollTo({top:r,behavior:"smooth"})}}})}},{key:"animateMenuItems",value:function(){var e=document.querySelectorAll(".menu li");e.length;e.forEach(function(e,t){i.Ay.fromTo(e,{opacity:0,y:10},{opacity:1,y:0,duration:.5,ease:"power1.out",delay:.1+.1*t,onComplete:function(){i.Ay.set(e,{clearProps:"all"})}})}),i.Ay.fromTo(this.contatoMobile,{opacity:0,y:10},{opacity:1,y:0,duration:.5,ease:"power1.out",delay:.1+.1*e.length,onComplete:function(){return console.log("Email animation complete")}}),i.Ay.fromTo(this.linkedinMobile,{opacity:0,y:10},{opacity:1,y:0,duration:.5,ease:"power1.out",delay:.1+.1*(e.length+1),onComplete:function(){return console.log("Instagram animation complete")}})}},{key:"toggleMenuAnimation",value:function(e){var t=document.querySelector('.js [data-menu="list"]');e?i.Ay.to(t,{duration:.5,opacity:1,visibility:"visible",ease:"power1.inOut",onStart:function(){t.style.display="flex"}}):i.Ay.to(t,{duration:.5,opacity:0,visibility:"hidden",ease:"power1.inOut",onComplete:function(){t.style.display="none"}})}},{key:"init",value:function(){return this.logoMobile&&this.menuButton&&this.menuList&&this.contatoMobile&&this.linkedinMobile&&(this.addMenuMobileEvents(),this.addLinkClickEvents()),this}}])}(),a=function(){return(0,s.A)(function e(t){(0,o.A)(this,e),this.header=document.querySelector(t),this.lastScrollTop=0,this.scrollThreshold=50},[{key:"handleScroll",value:function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>this.scrollThreshold&&this.header.classList.add("header-scrolled"),0===e&&this.header.classList.remove("header-scrolled")}},{key:"init",value:function(){window.addEventListener("scroll",this.handleScroll.bind(this))}}])}(),l=function(){return(0,s.A)(function e(t){(0,o.A)(this,e),this.translations=t,this.currentLang="pt"},[{key:"switchLanguage",value:function(e){var t=this;this.currentLang=e,document.querySelectorAll("[data-translate]").forEach(function(n){var o=n.getAttribute("data-translate");t.translations[e][o]&&("input"===n.tagName.toLowerCase()||"textarea"===n.tagName.toLowerCase()?n.placeholder=t.translations[e][o]:"endereco"===o?n.innerHTML=t.translations[e][o].replace(/\n/g,"<br>"):n.textContent=t.translations[e][o])})}}])}();function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,s=function(){};return{s,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var d=function(){return(0,s.A)(function e(t){(0,o.A)(this,e),this.form=document.getElementById(t),this.form&&(this.responseMessage=document.getElementById("ouvidoria-response-message"),this.responseMessage||(this.responseMessage=document.createElement("div"),this.responseMessage.id="ouvidoria-response-message",this.form.append(this.responseMessage)),this.styleResponseMessage(),this.addEventListeners(),this.setupModal())},[{key:"addEventListeners",value:function(){var e=this;this.form.addEventListener("submit",function(t){return e.handleSubmit(t)})}},{key:"setupModal",value:function(){var e=this;if(this.modal=document.getElementById("modal-confirmacao"),this.modal){this.modalOverlay=this.modal.querySelector(".modal-overlay"),this.modalClose=this.modal.querySelector(".modal-close"),this.modalCloseBtn=document.getElementById("modal-close-btn");var t=function(){e.modal.style.display="none"};this.modalClose&&this.modalClose.addEventListener("click",t),this.modalCloseBtn&&this.modalCloseBtn.addEventListener("click",t),this.modalOverlay&&this.modalOverlay.addEventListener("click",t)}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=document.getElementById("titulo"),n=document.getElementById("descricao"),o=!0;t.value.trim()?this.clearFieldError(t):(this.showFieldError(t,"Título é obrigatório"),o=!1),n.value.trim()?this.clearFieldError(n):(this.showFieldError(n,"Descrição é obrigatória"),o=!1);var s=document.getElementById("anexos");if(s.files.length>0){var i,r=c(s.files);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a.size>5242880){this.showFieldError(s,"O arquivo ".concat(a.name," excede 5MB")),o=!1;break}}}catch(e){r.e(e)}finally{r.f()}}o&&this.enviarDenuncia()}},{key:"showFieldError",value:function(e,t){this.clearFieldError(e),e.classList.add("error");var n=document.createElement("div");n.className="field-error-message",n.textContent=t,n.style.color="#e74c3c",n.style.fontSize="12px",n.style.marginTop="5px",e.parentNode.appendChild(n)}},{key:"clearFieldError",value:function(e){e.classList.remove("error");var t=e.parentNode.querySelector(".field-error-message");t&&t.remove()}},{key:"enviarDenuncia",value:function(){var e=this,t=new FormData(this.form);this.showLoadingIndicator(),fetch("./enviar-ouvidoria.php",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(t){e.responseMessage.style.display="none";var n=e.form.querySelector(".btn-submit");n&&(n.disabled=!1,n.innerHTML="Enviar Denúncia"),t.success?(e.showModalConfirmation(t.protocolo),e.form.reset()):e.showResponseMessage(t.message||"Erro ao enviar denúncia","error")}).catch(function(t){console.error("Erro:",t),e.responseMessage.style.display="none";var n=e.form.querySelector(".btn-submit");n&&(n.disabled=!1,n.innerHTML="Enviar Denúncia"),e.showResponseMessage("Erro na comunicação com o servidor","error")})}},{key:"showLoadingIndicator",value:function(){var e=this.form.querySelector(".btn-submit");e&&(e.disabled=!0,e.innerHTML="Enviando..."),this.responseMessage.textContent="Enviando sua denúncia...",this.responseMessage.style.display="block",this.responseMessage.style.backgroundColor="#f0f0f0",this.responseMessage.style.color="#333"}},{key:"showResponseMessage",value:function(e,t){var n=this,o=this.form.querySelector(".btn-submit");o&&(o.disabled=!1,o.innerHTML="Enviar Denúncia"),this.responseMessage.textContent=e,this.responseMessage.style.display="block",this.responseMessage.style.backgroundColor="success"===t?"#d4edda":"#f8d7da",this.responseMessage.style.color="success"===t?"#155724":"#721c24",this.responseMessage.style.border="success"===t?"1px solid #c3e6cb":"1px solid #f5c6cb",this.responseMessage.style.padding="10px",this.responseMessage.style.marginTop="15px",this.responseMessage.style.borderRadius="4px",setTimeout(function(){n.responseMessage.style.display="none"},5e3)}},{key:"showModalConfirmation",value:function(e){var t=this.form.querySelector(".btn-submit");t&&(t.disabled=!1,t.innerHTML="Enviar Denúncia"),this.responseMessage.style.display="none";var n=document.getElementById("protocol-number");n&&e&&(n.textContent=e),this.modal&&(this.modal.style.display="block")}},{key:"styleResponseMessage",value:function(){this.responseMessage.style.marginTop="15px",this.responseMessage.style.padding="10px",this.responseMessage.style.borderRadius="4px",this.responseMessage.style.display="none"}}])}();new r('[data-menu="logo"]','[data-menu="button"]','[data-menu="list"]','[data-menu="contato-mobile"]','[data-menu="linkedin"]').init(),new a(".header").init(),document.addEventListener("DOMContentLoaded",function(){document.getElementById("ouvidoria-form")&&new d("ouvidoria-form"),fetch("translations.json").then(function(e){return e.json()}).then(function(e){var t=new l(e),n=document.getElementById("switch-en"),o=document.getElementById("switch-pt");n&&o?(n.addEventListener("click",function(){t.switchLanguage("en")}),o.addEventListener("click",function(){t.switchLanguage("pt")})):console.error("Buttons not found")}).catch(function(e){return console.error("Erro ao carregar o arquivo de traduções:",e)})})}},n={};function o(e){var s=n[e];if(void 0!==s)return s.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,s,i)=>{if(!n){var r=1/0;for(u=0;u<e.length;u++){for(var[n,s,i]=e[u],a=!0,l=0;l<n.length;l++)(!1&i||r>=i)&&Object.keys(o.O).every(e=>o.O[e](n[l]))?n.splice(l--,1):(a=!1,i<r&&(r=i));if(a){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,s,i]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.j=93,(()=>{var e={93:0,869:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var s,i,[r,a,l]=n,c=0;if(r.some(t=>0!==e[t])){for(s in a)o.o(a,s)&&(o.m[s]=a[s]);if(l)var u=l(o)}for(t&&t(n);c<r.length;c++)i=r[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},n=self.webpackChunktrius=self.webpackChunktrius||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=o.O(void 0,[96,869],()=>o(696));s=o.O(s)})();